<!DOCTYPE html>
<html>
<head>
  <title>Auto Form Filler</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">

  <!-- Top Bar -->
  <div class="top-bar">
    <span>Logged in as <b>{{ user }}</b></span>
    <a href="/logout" class="logout">Logout</a>
  </div>

  <h2>User Details Form</h2>

  {% with messages = get_flashed_messages() %}
    {% for msg in messages %}
      <p class="msg">{{ msg }}</p>
    {% endfor %}
  {% endwith %}

  <!-- SINGLE FORM -->
  <form method="POST" enctype="multipart/form-data">

    <!-- PERSONAL INFO -->
    <div class="card personal-info">
      <h3>Personal Information</h3>

      <div class="form-group">
        <label>Full Name</label>
        <input name="full_name" type="text" placeholder="Enter your full name"
               value="{{ data.full_name if data }}">
      </div>

      <div class="form-group">
        <label>Email</label>
        <input name="email" type="email" placeholder="Enter your email"
               value="{{ data.email if data }}">
      </div>

      <div class="form-group">
        <label>Phone</label>
        <input name="phone" type="tel" placeholder="Enter your phone number"
               value="{{ data.phone if data }}">
      </div>

      <div class="form-group">
        <label>Address</label>
        <textarea name="address" placeholder="Enter your address">{{ data.address if data }}</textarea>
      </div>
    </div>

    <!-- DOCUMENTS -->
    <div class="card documents">
      <h3>Upload Documents</h3>

      <div class="doc-card">
        <label>Photo</label>
        <input type="file" name="photo">
      </div>

      <div class="doc-card">
        <label>10th Result</label>
        <input type="file" name="tenth">
      </div>

      <div class="doc-card">
        <label>12th Result</label>
        <input type="file" name="twelfth">
      </div>

      <div class="doc-card">
        <label>Income Certificate</label>
        <input type="file" name="income">
      </div>
    </div>

    <!-- SAVE BUTTON -->
    <button type="submit" class="btn-primary">Save All Data</button>

  </form>

  <!-- AUTO FILL -->
  <div class="card autofill">
    <h3>Auto Fill Form</h3>
    <form action="/fill" method="POST">
      <div class="form-group">
        <label>Form URL</label>
        <input name="form_url" type="text" placeholder="Enter target form URL" required>
      </div>
      <button class="btn-primary">Fill Form</button>
    </form>
  </div>

  <!-- LOAD / DELETE -->
  <div class="actions">
    <a href="/load"><button type="button" class="btn-secondary">Load Data</button></a>
    <a href="/delete"><button type="button" class="btn-secondary">Delete Data</button></a>
  </div>

</div>

</body>
</html>
